{"version":3,"file":"static/js/387.dd07f16e.chunk.js","mappings":"mQAEaA,EAAOC,EAAAA,QAAAA,GAASC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,0DAKhBC,EAASH,EAAAA,QAAAA,EAAQI,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,gCAIjBG,EAAML,EAAAA,QAAAA,EAAQM,IAAAA,GAAAJ,EAAAA,EAAAA,GAAA,sG,SCiD3B,EAtDgB,WACd,IAAQK,GAAYC,EAAAA,EAAAA,MAAZD,QACRE,GAA8BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAnCI,EAAOF,EAAA,GAAEG,EAAUH,EAAA,GAC1BI,GAA0BL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA/BE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GAsBtB,OApBAG,EAAAA,EAAAA,YAAU,WACHZ,IAGLa,EAAAA,EAAAA,GAAgB,UAAWb,GACxBc,MAAK,SAAAC,GAAkB,IAAfC,EAAOD,EAAPC,QACFA,EAAQC,QAIbV,EAAWS,GACXL,EAAS,KAJPA,EAAS,8BAKb,IACCO,OAAM,kBACLP,EACE,oEACD,GAEP,GAAG,CAACX,KAGFmB,EAAAA,EAAAA,KAAA,OAAAC,SACa,KAAVV,GACCS,EAAAA,EAAAA,KAAA,OAAAC,UACED,EAAAA,EAAAA,KAAA,MAAAC,SACGd,EAAQe,KAAI,SAAAC,GAAM,OACjBC,EAAAA,EAAAA,MAAC/B,EAAI,CAAA4B,SAAA,EACHG,EAAAA,EAAAA,MAAC3B,EAAM,CAAAwB,SAAA,CAAC,WAASE,EAAOE,WACxBL,EAAAA,EAAAA,KAAA,KAAAC,SACGE,EAAOG,QAAQR,OAAS,IACrBK,EAAOG,QAAO,GAAAC,OACXJ,EAAOG,QAAQE,MAAM,EAAG,KAAI,SAEpCL,EAAOG,QAAQR,OAAS,MACvBE,EAAAA,EAAAA,KAACrB,EAAG,CAAC8B,KAAMN,EAAOO,IAAKC,OAAO,QAAOV,SAAC,uBAR/BE,EAAOS,GAYX,SAKbZ,EAAAA,EAAAA,KAACa,EAAAA,EAAK,CAAAZ,SAAEV,KAIhB,C,yGCxDauB,EAAYxC,EAAAA,QAAAA,GAASC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,kCAIrBqC,EAAQvC,EAAAA,QAAAA,EAAQI,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,gD,iGCJvBuC,EAAU,mCACVC,EAAW,+BAEV,SAAetB,EAAeuB,EAAAC,EAAAC,GAAA,OAAAC,EAAAC,MAAC,KAADC,UAAA,CAoBpC,SAAAF,IAAA,OAAAA,GAAAG,EAAAA,EAAAA,GAAAC,IAAAA,MApBM,SAAAC,EAA+BC,EAAMd,EAAIe,GAAK,IAAAC,EAAAC,EAAAC,EAAA,OAAAN,IAAAA,MAAA,SAAAO,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAYjD,OAXIL,EAAiB,CACrBM,SAAU,sBACVC,UAAU,UAAD5B,OAAYK,GACrBwB,cAAe,gBACfC,KAAK,UAAD9B,OAAYK,EAAE,YAClBzB,QAAQ,UAADoB,OAAYK,EAAE,aAGjBiB,EAAe,IAAIS,gBAAgB,CACvCX,MAAOA,EACPY,eAAe,IACfR,EAAAE,KAAA,EAEqBO,EAAAA,EAAAA,IAAU,GAADjC,OAC3BS,GAAQT,OAAGqB,EAAeF,GAAK,aAAAnB,OAAYQ,EAAO,KAAAR,OAC1C,kBAATmB,EAA2BG,EAAe,KAE5C,KAAD,EAJa,OAARC,EAAQC,EAAAU,KAAAV,EAAAW,OAAA,SAKPZ,EAASa,MAAI,wBAAAZ,EAAAa,OAAA,GAAAnB,EAAA,MACrBJ,MAAA,KAAAC,UAAA,C","sources":["components/Reviews/Reviews.styled.jsx","components/Reviews/Reviews.jsx","pages/HomePage/HomePage.styled.jsx","services/tmdb-api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Item = styled.li`\n  text-align: justify;\n  margin-bottom: 16px;\n`;\n\nexport const Author = styled.p`\n  font-weight: bold;\n`;\n\nexport const Url = styled.a`\n  font-weight: bold;\n  text-decoration: underline;\n  &:hover {\n    color: #0b615a;\n  }\n`;\n","import { Error } from 'pages/HomePage/HomePage.styled';\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchMoviesData } from 'services/tmdb-api';\nimport { Author, Item, Url } from './Reviews.styled';\n\nconst Reviews = () => {\n  const { movieId } = useParams();\n  const [reviews, setReviews] = useState([]);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    if (!movieId) {\n      return;\n    }\n    fetchMoviesData('reviews', movieId)\n      .then(({ results }) => {\n        if (!results.length) {\n          setError('There are no reviews yet :(');\n          return;\n        }\n        setReviews(results);\n        setError('');\n      })\n      .catch(() =>\n        setError(\n          'We are sorry, but something went wrong :( Please, try again later'\n        )\n      );\n  }, [movieId]);\n\n  return (\n    <div>\n      {error === '' ? (\n        <div>\n          <ul>\n            {reviews.map(review => (\n              <Item key={review.id}>\n                <Author>Author: {review.author}</Author>\n                <p>\n                  {review.content.length < 500\n                    ? review.content\n                    : `${review.content.slice(0, 500)}...`}\n                </p>\n                {review.content.length > 500 && (\n                  <Url href={review.url} target=\"blank\">\n                    Read full review\n                  </Url>\n                )}\n              </Item>\n            ))}\n          </ul>\n        </div>\n      ) : (\n        <Error>{error}</Error>\n      )}\n    </div>\n  );\n};\n\nexport default Reviews;\n","import styled from 'styled-components';\n\nexport const PageTitle = styled.h2`\n  margin-bottom: 20px;\n`;\n\nexport const Error = styled.p`\n  font-size: 24px;\n  margin: 24px 0;\n`;\n","import axios from 'axios';\n\nconst api_key = '81bc6a75d9ad77927c9b3f7e8ad30411';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport async function fetchMoviesData(type, id, query) {\n  const endpointByType = {\n    trending: '/trending/movie/day',\n    movieById: `/movie/${id}`,\n    searchByQuery: '/search/movie',\n    cast: `/movie/${id}/credits`,\n    reviews: `/movie/${id}/reviews`,\n  };\n\n  const searchParams = new URLSearchParams({\n    query: query,\n    include_adult: true,\n  });\n\n  const response = await axios.get(\n    `${BASE_URL}${endpointByType[type]}?api_key=${api_key}&${\n      type === 'searchByQuery' ? searchParams : ''\n    }`\n  );\n  return response.data;\n}\n"],"names":["Item","styled","_templateObject","_taggedTemplateLiteral","Author","_templateObject2","Url","_templateObject3","movieId","useParams","_useState","useState","_useState2","_slicedToArray","reviews","setReviews","_useState3","_useState4","error","setError","useEffect","fetchMoviesData","then","_ref","results","length","catch","_jsx","children","map","review","_jsxs","author","content","concat","slice","href","url","target","id","Error","PageTitle","api_key","BASE_URL","_x","_x2","_x3","_fetchMoviesData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","_callee","type","query","endpointByType","searchParams","response","_context","prev","next","trending","movieById","searchByQuery","cast","URLSearchParams","include_adult","axios","sent","abrupt","data","stop"],"sourceRoot":""}